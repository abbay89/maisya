var cities = new Array();
cities['Bali'] = ["Kabupaten Badung","Kabupaten Bangli","Kabupaten Buleleng","Kota Denpasar","Kabupaten Gianyar","Kabupaten Jembrana","Kabupaten","Karangasem","Kabupaten Klungkung","Kabupaten Tabanan"];
cities['Bangka Belitung'] = ["Kabupaten Bangka","Kabupaten Bangka Barat","Kabupaten Bangka Selatan","Kabupaten Bangka Tengah","Kabupaten Belitung","Kabupaten Belitung Timur","Kota Pangkal Pinang"];
cities['Banten'] = [];

cities["Bali"] = ["Kabupaten Badung","Kabupaten Bangli","Kabupaten Buleleng","Kota Denpasar","Kabupaten Gianyar","Kabupaten Jembrana","Kabupaten Karangasem","Kabupaten Klungkung","Kabupaten Tabanan"];
cities["Bangka Belitung"] = ["Kabupaten Bangka","Kabupaten Bangka Barat","Kabupaten Bangka Selatan","Kabupaten Bangka Tengah","Kabupaten Belitung","Kabupaten Belitung Timur","Kota Pangkal Pinang"];
cities["Banten"] = ["Kota Cilegon","Kabupaten Lebak","Kabupaten Pandeglang","Kabupaten Serang","Kota Serang","Kabupaten Tangerang","Kota Tangerang","Kota Tangerang Selatan"];
cities["Bengkulu"] = ["Kota Bengkulu","Kabupaten Bengkulu Selatan","Kabupaten Bengkulu Tengah","Kabupaten Bengkulu Utara","Kabupaten Kaur","Kabupaten Kepahiang","Kabupaten Lebong","Kabupaten Muko Muko","Kabupaten Rejang Lebong","Kabupaten Seluma"];
cities["DI Yogyakarta"] = ["Kabupaten Bantul","Kabupaten Gunung Kidul","Kabupaten Kulon Progo","Kabupaten Sleman","Kota Yogyakarta"];
cities["DKI Jakarta"] = ["Kota Jakarta Barat","Kota Jakarta Pusat","Kota Jakarta Selatan","Kota Jakarta Timur","Kota Jakarta Utara","Kabupaten Kepulauan Seribu"];
cities["Gorontalo"] = ["Kabupaten Boalemo","Kabupaten Bone Bolango","Kabupaten Gorontalo","Kota Gorontalo","Kabupaten Gorontalo Utara","Kabupaten Pohuwato"];
cities["Jambi"] = ["Kabupaten Batang Hari","Kabupaten Bungo","Kota Jambi","Kabupaten Kerinci","Kabupaten Merangin","Kabupaten Muaro Jambi","Kabupaten Sarolangun","Kota Sungaipenuh","Kabupaten Tanjung Jabung Barat","Kabupaten Tanjung Jabung Timur","Kabupaten Tebo"];
cities["Jawa Barat"] = ["Kabupaten Bandung","Kota Bandung","Kabupaten Bandung Barat","Kota Banjar","Kabupaten Bekasi","Kota Bekasi","Kabupaten Bogor","Kota Bogor","Kabupaten Ciamis","Kabupaten Cianjur","Kota Cimahi","Kabupaten Cirebon","Kota Cirebon","Kota Depok","Kabupaten Garut","Kabupaten Indramayu","Kabupaten Karawang","Kabupaten Kuningan","Kabupaten Majalengka","Kabupaten Pangandaran","Kabupaten Purwakarta","Kabupaten Subang","Kabupaten Sukabumi","Kota Sukabumi","Kabupaten Sumedang","Kabupaten Tasikmalaya","Kota Tasikmalaya"];
cities["Jawa Tengah"] = ["Kabupaten Banjarnegara","Kabupaten Banyumas","Kabupaten Batang","Kabupaten Blora","Kabupaten Boyolali","Kabupaten Brebes","Kabupaten Cilacap","Kabupaten Demak","Kabupaten Grobogan","Kabupaten Jepara","Kabupaten Karanganyar","Kabupaten Kebumen","Kabupaten Kendal","Kabupaten Klaten","Kabupaten Kudus","Kabupaten Magelang","Kota Magelang","Kabupaten Pati","Kabupaten Pekalongan","Kota Pekalongan","Kabupaten Pemalang","Kabupaten Purbalingga","Kabupaten Purworejo","Kabupaten Rembang","Kota Salatiga","Kabupaten Semarang","Kota Semarang","Kabupaten Sragen","Kabupaten Sukoharjo","Kota Surakarta (Solo)","Kabupaten Tegal","Kota Tegal","Kabupaten Temanggung","Kabupaten Wonogiri","Kabupaten Wonosobo"];
cities["Jawa Timur"] = ["Kabupaten Bangkalan","Kabupaten Banyuwangi","Kota Batu","Kabupaten Blitar","Kota Blitar","Kabupaten Bojonegoro","Kabupaten Bondowoso","Kabupaten Gresik","Kabupaten Jember","Kabupaten Jombang","Kabupaten Kediri","Kota Kediri","Kabupaten Lamongan","Kabupaten Lumajang","Kabupaten Madiun","Kota Madiun","Kabupaten Magetan","Kabupaten Malang","Kota Malang","Kabupaten Mojokerto","Kota Mojokerto","Kabupaten Nganjuk","Kabupaten Ngawi","Kabupaten Pacitan","Kabupaten Pamekasan","Kabupaten Pasuruan","Kota Pasuruan","Kabupaten Ponorogo","Kabupaten Probolinggo","Kota Probolinggo","Kabupaten Sampang","Kabupaten Sidoarjo","Kabupaten Situbondo","Kabupaten Sumenep","Kota Surabaya","Kabupaten Trenggalek","Kabupaten Tuban","Kabupaten Tulungagung"];
cities["Kalimantan Barat"] = ["Kabupaten Bengkayang","Kabupaten Kapuas Hulu","Kabupaten Kayong Utara","Kabupaten Ketapang","Kabupaten Kubu Raya","Kabupaten Landak","Kabupaten Melawi","Kabupaten Pontianak","Kota Pontianak","Kabupaten Sambas","Kabupaten Sanggau","Kabupaten Sekadau","Kota Singkawang","Kabupaten Sintang"];
cities["Kalimantan Selatan"] = ["Kabupaten Balangan","Kabupaten Banjar","Kota Banjarbaru","Kota Banjarmasin","Kabupaten Barito Kuala","Kabupaten Hulu Sungai Selatan","Kabupaten Hulu Sungai Tengah","Kabupaten Hulu Sungai Utara","Kabupaten Kotabaru","Kabupaten Tabalong","Kabupaten Tanah Bumbu","Kabupaten Tanah Laut","Kabupaten Tapin"];
cities["Kalimantan Tengah"] = ["Kabupaten Barito Selatan","Kabupaten Barito Timur","Kabupaten Barito Utara","Kabupaten Gunung Mas","Kabupaten Kapuas","Kabupaten Katingan","Kabupaten Kotawaringin Barat","Kabupaten Kotawaringin Timur","Kabupaten Lamandau","Kabupaten Murung Raya","Kota Palangka Raya","Kabupaten Pulang Pisau","Kabupaten Seruyan","Kabupaten Sukamara"];
cities["Kalimantan Timur"] = ["Kota Balikpapan","Kabupaten Berau","Kota Bontang","Kabupaten Kutai Barat","Kabupaten Kutai Kartanegara","Kabupaten Kutai Timur","Kabupaten Paser","Kabupaten Penajam Paser Utara","Kota Samarinda"];
cities["Kalimantan Utara"] = ["Kabupaten Bulungan (Bulongan)","Kabupaten Malinau","Kabupaten Nunukan","Kabupaten Tana Tidung","Kota Tarakan"];
cities["Kepulauan Riau"] = ["Kota Batam","Kabupaten Bintan","Kabupaten Karimun","Kabupaten Kepulauan Anambas","Kabupaten Lingga","Kabupaten Natuna","Kota Tanjung Pinang"];
cities["Lampung"] = ["Kota Bandar Lampung","Kabupaten Lampung Barat","Kabupaten Lampung Selatan","Kabupaten Lampung Tengah","Kabupaten Lampung Timur","Kabupaten Lampung Utara","Kabupaten Mesuji","Kota Metro","Kabupaten Pesawaran","Kabupaten Pesisir Barat","Kabupaten Pringsewu","Kabupaten Tanggamus","Kabupaten Tulang Bawang","Kabupaten Tulang Bawang Barat","Kabupaten Way Kanan"];
cities["Maluku"] = ["Kota Ambon","Kabupaten Buru","Kabupaten Buru Selatan","Kabupaten Kepulauan Aru","Kabupaten Maluku Barat Daya","Kabupaten Maluku Tengah","Kabupaten Maluku Tenggara","Kabupaten Maluku Tenggara Barat","Kabupaten Seram Bagian Barat","Kabupaten Seram Bagian Timur","Kota Tual"];
cities["Maluku Utara"] = ["Kabupaten Halmahera Barat","Kabupaten Halmahera Selatan","Kabupaten Halmahera Tengah","Kabupaten Halmahera Timur","Kabupaten Halmahera Utara","Kabupaten Kepulauan Sula","Kabupaten Pulau Morotai","Kota Ternate","Kota Tidore Kepulauan"];
cities["Nanggroe Aceh Darussalam (NAD)"] = ["Kabupaten Aceh Barat","Kabupaten Aceh Barat Daya","Kabupaten Aceh Besar","Kabupaten Aceh Jaya","Kabupaten Aceh Selatan","Kabupaten Aceh Singkil","Kabupaten Aceh Tamiang","Kabupaten Aceh Tengah","Kabupaten Aceh Tenggara","Kabupaten Aceh Timur","Kabupaten Aceh Utara","Kota Banda Aceh","Kabupaten Bener Meriah","Kabupaten Bireuen","Kabupaten Gayo Lues","Kota Langsa","Kota Lhokseumawe","Kabupaten Nagan Raya","Kabupaten Pidie","Kabupaten Pidie Jaya","Kota Sabang","Kabupaten Simeulue","Kota Subulussalam"];
cities["Nusa Tenggara Barat (NTB)"] = ["Kabupaten Bima","Kota Bima","Kabupaten Dompu","Kabupaten Lombok Barat","Kabupaten Lombok Tengah","Kabupaten Lombok Timur","Kabupaten Lombok Utara","Kota Mataram","Kabupaten Sumbawa","Kabupaten Sumbawa Barat"];
cities["Nusa Tenggara Timur (NTT)"] = ["Kabupaten Alor","Kabupaten Belu","Kabupaten Ende","Kabupaten Flores Timur","Kabupaten Kupang","Kota Kupang","Kabupaten Lembata","Kabupaten Manggarai","Kabupaten Manggarai Barat","Kabupaten Manggarai Timur","Kabupaten Nagekeo","Kabupaten Ngada","Kabupaten Rote Ndao","Kabupaten Sabu Raijua","Kabupaten Sikka","Kabupaten Sumba Barat","Kabupaten Sumba Barat Daya","Kabupaten Sumba Tengah","Kabupaten Sumba Timur","Kabupaten Timor Tengah Selatan","Kabupaten Timor Tengah Utara"];
cities["Papua"] = ["Kabupaten Asmat","Kabupaten Biak Numfor","Kabupaten Boven Digoel","Kabupaten Deiyai (Deliyai)","Kabupaten Dogiyai","Kabupaten Intan Jaya","Kabupaten Jayapura","Kota Jayapura","Kabupaten Jayawijaya","Kabupaten Keerom","Kabupaten Kepulauan Yapen (Yapen Waropen)","Kabupaten Lanny Jaya","Kabupaten Mamberamo Raya","Kabupaten Mamberamo Tengah","Kabupaten Mappi","Kabupaten Merauke","Kabupaten Mimika","Kabupaten Nabire","Kabupaten Nduga","Kabupaten Paniai","Kabupaten Pegunungan Bintang","Kabupaten Puncak","Kabupaten Puncak Jaya","Kabupaten Sarmi","Kabupaten Supiori","Kabupaten Tolikara","Kabupaten Waropen","Kabupaten Yahukimo","Kabupaten Yalimo"];
cities["Papua Barat"] = ["Kabupaten Fakfak","Kabupaten Kaimana","Kabupaten Manokwari","Kabupaten Manokwari Selatan","Kabupaten Maybrat","Kabupaten Pegunungan Arfak","Kabupaten Raja Ampat","Kabupaten Sorong","Kota Sorong","Kabupaten Sorong Selatan","Kabupaten Tambrauw","Kabupaten Teluk Bintuni","Kabupaten Teluk Wondama"];
cities["Riau"] = ["Kabupaten Bengkalis","Kota Dumai","Kabupaten Indragiri Hilir","Kabupaten Indragiri Hulu","Kabupaten Kampar","Kabupaten Kepulauan Meranti","Kabupaten Kuantan Singingi","Kota Pekanbaru","Kabupaten Pelalawan","Kabupaten Rokan Hilir","Kabupaten Rokan Hulu","Kabupaten Siak"];
cities["Sulawesi Barat"] = ["Kabupaten Majene","Kabupaten Mamasa","Kabupaten Mamuju","Kabupaten Mamuju Utara","Kabupaten Polewali Mandar"];
cities["Sulawesi Selatan"] = ["Kabupaten Bantaeng","Kabupaten Barru","Kabupaten Bone","Kabupaten Bulukumba","Kabupaten Enrekang","Kabupaten Gowa","Kabupaten Jeneponto","Kabupaten Luwu","Kabupaten Luwu Timur","Kabupaten Luwu Utara","Kota Makassar","Kabupaten Maros","Kota Palopo","Kabupaten Pangkajene Kepulauan","Kota Parepare","Kabupaten Pinrang","Kabupaten Selayar (Kepulauan Selayar)","Kabupaten Sidenreng Rappang\/Rapang","Kabupaten Sinjai","Kabupaten Soppeng","Kabupaten Takalar","Kabupaten Tana Toraja","Kabupaten Toraja Utara","Kabupaten Wajo"];
cities["Sulawesi Tengah"] = ["Kabupaten Banggai","Kabupaten Banggai Kepulauan","Kabupaten Buol","Kabupaten Donggala","Kabupaten Morowali","Kota Palu","Kabupaten Parigi Moutong","Kabupaten Poso","Kabupaten Sigi","Kabupaten Tojo Una-Una","Kabupaten Toli-Toli"];
cities["Sulawesi Tenggara"] = ["Kota Bau-Bau","Kabupaten Bombana","Kabupaten Buton","Kabupaten Buton Utara","Kota Kendari","Kabupaten Kolaka","Kabupaten Kolaka Utara","Kabupaten Konawe","Kabupaten Konawe Selatan","Kabupaten Konawe Utara","Kabupaten Muna","Kabupaten Wakatobi"];
cities["Sulawesi Utara"] = ["Kota Bitung","Kabupaten Bolaang Mongondow (Bolmong)","Kabupaten Bolaang Mongondow Selatan","Kabupaten Bolaang Mongondow Timur","Kabupaten Bolaang Mongondow Utara","Kabupaten Kepulauan Sangihe","Kabupaten Kepulauan Siau Tagulandang Biaro (Sitaro)","Kabupaten Kepulauan Talaud","Kota Kotamobagu","Kota Manado","Kabupaten Minahasa","Kabupaten Minahasa Selatan","Kabupaten Minahasa Tenggara","Kabupaten Minahasa Utara","Kota Tomohon"];
cities["Sumatera Barat"] = ["Kabupaten Agam","Kota Bukittinggi","Kabupaten Dharmasraya","Kabupaten Kepulauan Mentawai","Kabupaten Lima Puluh Koto\/Kota","Kota Padang","Kota Padang Panjang","Kabupaten Padang Pariaman","Kota Pariaman","Kabupaten Pasaman","Kabupaten Pasaman Barat","Kota Payakumbuh","Kabupaten Pesisir Selatan","Kota Sawah Lunto","Kabupaten Sijunjung (Sawah Lunto Sijunjung)","Kabupaten Solok","Kota Solok","Kabupaten Solok Selatan","Kabupaten Tanah Datar"];
cities["Sumatera Selatan"] = ["Kabupaten Banyuasin","Kabupaten Empat Lawang","Kabupaten Lahat","Kota Lubuk Linggau","Kabupaten Muara Enim","Kabupaten Musi Banyuasin","Kabupaten Musi Rawas","Kabupaten Ogan Ilir","Kabupaten Ogan Komering Ilir","Kabupaten Ogan Komering Ulu","Kabupaten Ogan Komering Ulu Selatan","Kabupaten Ogan Komering Ulu Timur","Kota Pagar Alam","Kota Palembang","Kota Prabumulih"];
cities["Sumatera Utara"] = ["Kabupaten Asahan","Kabupaten Batu Bara","Kota Binjai","Kabupaten Dairi","Kabupaten Deli Serdang","Kota Gunungsitoli","Kabupaten Humbang Hasundutan","Kabupaten Karo","Kabupaten Labuhan Batu","Kabupaten Labuhan Batu Selatan","Kabupaten Labuhan Batu Utara","Kabupaten Langkat","Kabupaten Mandailing Natal","Kota Medan","Kabupaten Nias","Kabupaten Nias Barat","Kabupaten Nias Selatan","Kabupaten Nias Utara","Kabupaten Padang Lawas","Kabupaten Padang Lawas Utara","Kota Padang Sidempuan","Kabupaten Pakpak Bharat","Kota Pematang Siantar","Kabupaten Samosir","Kabupaten Serdang Bedagai","Kota Sibolga","Kabupaten Simalungun","Kota Tanjung Balai","Kabupaten Tapanuli Selatan","Kabupaten Tapanuli Tengah","Kabupaten Tapanuli Utara","Kota Tebing Tinggi","Kabupaten Toba Samosir"];



jQuery(document).ready(function(){

    jQuery("input[name=city]").attr("id","cityinput");

    jQuery("select[name=state]").change(function() {
        citychange();
    });

    citychange();

});

function citychange() {
    // Check if we need the select-inline class applied,
    // which is a data attribute set by the input field.
    var addClass = '';
    var data = jQuery("input[name=city]").data("selectinlinedropdown");
    addClass = getCitySelectClass(data);
    if (addClass.length < 1) {
        data = jQuery("#cityinput").data("selectinlinedropdown");
        addClass = getCitySelectClass(data);
    }

    var city = jQuery("#cityinput").val();
    var state = jQuery("select[name=state]").val();
    
    var citiesTab = jQuery("#cityinput").attr("tabindex");
    var disabled = jQuery("#cityinput").attr("disabled");
    var readonly = jQuery("#cityinput").attr("readonly");
    if (typeof(citiesTab) == "undefined") citiesTab = '';
    if (typeof(disabled) == "undefined") disabled = '';
    if (typeof(readonly) == "undefined") readonly = '';
    if (cities[state]) {
        jQuery("#cityinput").hide()
            .removeAttr("name")
            .removeAttr("required");
        jQuery("#inputCityIcon").hide();
        jQuery("#cityselect").remove();
        var cityops = '';
        for (key in cities[state]) {
            cityval = cities[state][key];
            if (cityval=="end") break;
            cityops += '<option';
            if (cityval==state) cityops += ' selected="selected"'
            cityops += '>'+cityval+'</option>';
        }
        if(citiesTab != '') { citiesTab = ' tabindex="'+citiesTab+'"'; }
        if (disabled || readonly) {
            disabled = ' disabled';
        }
        jQuery("#cityinput").parent()
            .append('<select name="city" class="' + jQuery("#cityinput").attr("class") + addClass + '" id="cityselect"' + citiesTab + disabled + '><option value="">&mdash;</option>' + cityops + '</select>');
        var required = true;
        if (typeof stateNotRequired == "boolean" && stateNotRequired) {
            required = false;
        }
        jQuery("#cityselect").attr("required", required);
    } else {
        var required = true;
        if (typeof stateNotRequired == "boolean" && stateNotRequired) {
            required = false;
        }
        jQuery("#cityselect").remove();
        jQuery("#cityinput").show()
            .attr("name","state")
            .attr("required", required);
        jQuery("#inputCityIcon").show();
    }
}

/**
 * Gets the select-inline class name, depending on whether
 * data is true when evaluated ToBoolean.
 *
 * @param {Number} data The data attribute from the form.
 * @return {String} addClass Returns the select-inline class on success.
 */
function getCitySelectClass(data)
{
    var addClass = '';

    if (data) {
        addClass = ' select-inline';
    }

    return addClass;
}

